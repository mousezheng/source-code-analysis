索引
==

# 索引基础

索引是：以一个或多个字段的值为输入并能“快速地”找出具有该值的记录。具体来说，索引使我们只需查看所有可能记录的一小部分就能找出所需的记录。建立索引的字段（组合）称之为**查找键**，在索引不言而喻时可称为“键”

信息均存储于文件系统，分为数据文件、索引文件。

## 索引文件
索引可以是“稠密的”也可以是“稀疏的”，即所有数据块均被索引覆盖，也可以只有部分数据块有索引，一般情况下所有数据块都会有一个主键索引。
索引分为两种**主索引**和**辅助索引**，关系的主键简历主索引，其他属性上建立辅助索引。主索引能够直接对应数据文件位置，辅助索引只能对应主键，通过主键间接找到数据文件位置。
## 顺序文件
关系中的数据按照主键进行排序而生成的文件。按照某个次序分布在多个数据块中。
## 稠密索引
索引文件一般远小于数据文件，建立稠密索引可以使得通过索引查询是，只需要一次I/O即可完成查询。
如果存在以下情况，查找效率会更高：
- 索引快数量比数据块数量少
- 键被排序，可通过二分查找
- 索引文件较小，可以永久放置在主存缓冲区
## 稀疏索引
为数据文件每个存储块设置一个键，稀疏索引会比稠密索引更胜存储空间，但查找数据时会消耗更长的时间。
## 多级索引
通过建立多级索引，如一层稀疏索引，一层稠密索引，能够更快的查找，并且节省空间。
## 辅助索引
辅助索引可以用于任何索引目的，这种数据结构有助于查找给定的一个或多个字段的记录，但是辅助索引与主键索引最大的差别是在辅助索引不决定数据文件记录的存放位置。
## 文档检索和倒排索引
对于文档检索时，由于文档内容众多，全部遍历不太现实。倒排索引（inverted index）与正常的索引区别是，正常索引是**ID**对**内容**的索引，倒排索引是**内容**对**id**的索引。