从单线程到多线程应用不仅仅只有好处，也会有许多成本。如果可以，不要仅仅选择多线程应用。应该有个好主意，认为这样做收益远大于成本。是么时候怀疑？尝试推测应用的性能或者效率，而不是简单的猜想。

## 更加复杂的设计

即使一部分多线程应用比单线程应用简单，另一部分非常复杂。代码执行多线程通过共享数据需要特别的注意。线程通信并不总是很简单。不正确的线程同步出现的错误是非常难以查找、复现及修复

## 上下文切换开销

当一个 CPU 从一个线程到另一个线程执行切换，CPU 需要存本地数据、程序指针等，恢复当前线程、加载本地数据及程序指针等，然后开始下一个线程的执行。这个切换被叫做“上下文切换”。CPU 从在一个线程上下文中执行切换到另一个线程的上下文中执行。

上下文切换不是廉价的，不能再不需要的时候想切换就切换。

## 资源消耗替代

一个线程需要资源从计算机命令执行中，与 CPU 时间类似，线程需要一些内存保存他自己的本地栈，线程也需要一些操作系统需要管理线程的资源。尝试创建一个程序创建一百个线程，等待并且什么都不做，看应用运行时消耗多少内存。